{% extends "base.html" %}
{% block content %}
<div class="category-header">
    <h1>NGO Portal</h1>
    <p style="color: rgba(255, 255, 255, 0.9); font-size: 0.9375rem;">Add or update resources available to the community.</p>
</div>

{% if created %}
<div class="card" style="background: #28a745; color: #fff; margin-bottom: 1.5rem;">
    Resource "{{ created.name }}" added successfully.
</div>
{% endif %}

<div class="card">
    <h3 style="margin-top: 0;">Add New Resource</h3>
    <form class="auth-form" method="post">
        <div class="form-group">
            <label for="name">Name</label>
            <input type="text" id="name" name="name" required />
        </div>

        <div class="form-group">
            <label for="category">Category</label>
            <select id="category" name="category" required style="padding: 0.875rem; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem;">
                <option value="housing">Housing</option>
                <option value="food">Food</option>
                <option value="clothing">Clothing</option>
            </select>
        </div>

        <div class="form-group">
            <label for="neighborhood">Neighborhood</label>
            <select id="neighborhood" name="neighborhood" required style="padding: 0.875rem; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem;">
                {% for n in neighborhoods %}
                <option value="{{ n }}">{{ n }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label for="address">Address</label>
            <input type="text" id="address" name="address" />
        </div>

        <div class="form-group">
            <label for="phone">Phone</label>
            <input type="text" id="phone" name="phone" />
        </div>

        <div class="form-group">
            <label for="description">Description</label>
            <textarea id="description" name="description" rows="3" style="padding: 0.875rem; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem; font-family: inherit; resize: vertical;"></textarea>
        </div>

        <button type="submit" class="btn-primary">Save Resource</button>
    </form>
</div>

<div class="category-header" style="margin-top: 2rem;">
    <h2 style="font-size: 1.25rem; margin-bottom: 1rem;">Current Resources</h2>
</div>

{% if resources %}
<div class="resource-list">
    {% for r in resources %}
    <article class="resource-card">
        <h3>{{ r.name }}</h3>
        <p class="resource-meta">
            <strong>Neighborhood:</strong> {{ r.neighborhood }}<br>
            <strong>Category:</strong> {{ r.category|capitalize }}
        </p>
        {% if r.description %}
        <p class="resource-info">{{ r.description }}</p>
        {% endif %}
    </article>
    {% endfor %}
</div>
{% else %}
<div class="card">
    <p>No resources yet.</p>
</div>
{% endif %}
{% endblock %}
